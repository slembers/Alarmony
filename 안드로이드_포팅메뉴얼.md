# Android

## ì•ˆë“œë¡œì´ë“œ ê¸°ë³¸ ì„¤ì •

### ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ ì„¤ì¹˜

[Android ê°œë°œì Â |Â  Android Developers](https://developer.android.com/?hl=ko)

### ê³µì‹í™ˆí˜ì´ì§€ì—ì„œ ìŠ¤íŠœë””ì˜¤ ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ ì´ë™

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2013.png)

### ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œ ì œê³µí•˜ëŠ” exeíŒŒì¼ ë‹¤ìš´ë¡œë“œ

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2014.png)

### exeíŒŒì¼ ì‹¤í–‰

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2015.png)

### ìˆœì„œëŒ€ë¡œ ì²´í¬í•´ì„œ ì‹¤í–‰

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2016.png)

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2017.png)

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2018.png)

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2019.png)

### ëª¨ë“  í•­ëª©ì„ ì™„ë£Œ

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2020.png)

---

### ì•ˆë“œë¡œì´ë“œ ê¸°ë³¸ í”„ë¡œì íŠ¸ ì„¤ì¹˜

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2021.png)

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2022.png)

### Empty Activity

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2023.png)

### Empty Views Activity

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2024.png)

### ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” í™•ì¸!!

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2025.png)

---

## JetPack Compose ì„¤ì •

### **JetPack Composeë€**â“

Jetpack ComposeëŠ” ë„¤ì´í‹°ë¸Œ UIë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ **Androidì˜ ìµœì‹  ê¶Œì¥ ë„êµ¬ í‚¤íŠ¸**
Jetpack ComposeëŠ” Androidì—ì„œì˜ **UI ê°œë°œì„ ê°„ì†Œí™”**í•˜ê³  ê°€ì†í™”í•©ë‹ˆë‹¤. ê°„ë‹¨í•œ ì½”ë“œ, ê°•ë ¥í•œ ë„êµ¬, ì§ê´€ì ì¸ Kotlin APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì„ ë¹ ë¥´ê³  ìƒë™ê° ìˆê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**jetPackì„ ì´ìš©í•˜ë©´ ìƒê¸°ëŠ” ì¥ì ** 

- ì½”ë“œì˜ ê°ì†Œ
- ì§ê´€ì 
- ë¹ ë¥¸ ê°œë°œ ê³¼ì •
- ê°•ë ¥í•œ ì„±ëŠ¥ ì§€ì›

### build.gradle ì„¤ì •

```groovy
// build.gradle
android {
    buildFeatures {
        compose true
    }

    composeOptions {
        kotlinCompilerExtensionVersion = "1.4.2"
    }
}
```

composeì»´íŒŒì¼ì€ kotlin ì»´íŒŒì¼ê³¼ ë²„ì ¼ë³„ë¡œ í˜¸í™˜ë˜ëŠ” ê²ƒì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë§ì¶°ì¤˜ì•¼í•©ë‹ˆë‹¤.
í•´ë‹¹ ë²„ì ¼ë³„ í˜¸í™˜ì„± ì§€ë„ë¥¼ ì°¸ê³ í•˜ì—¬ ì„¤ì •í•´ì£¼ì„¸ìš”.

[Composeì™€ Kotlinì˜ í˜¸í™˜ì„± ì§€ë„ Â |Â  Android ê°œë°œì Â |Â  Android Developers](https://developer.android.com/jetpack/androidx/releases/compose-kotlin?hl=ko)

### í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •

```groovy
implementation 'androidx.compose:compose-bom:2023.01.00'
androidTestImplementation 'androidx.compose:compose-bom:2023.01.00'

// Choose one of the following:
// Material Design 3
implementation 'androidx.compose.material3:material3'
// or Material Design 2
implementation 'androidx.compose.material:material'
// or skip Material Design and build directly on top of foundational components
implementation 'androidx.compose.foundation:foundation'
// or only import the main APIs for the underlying toolkit systems,
// such as input and measurement/layout
implementation 'androidx.compose.ui:ui'
```

composeëŠ” Materialë””ìì¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ ë””ìì¸ì„ í•™ìŠµí•˜ê³  ì‹¶ìœ¼ì‹œë©´ ì•„ë˜ ë§í¬ë¥¼ ì°¸ì¡°í•´ì„œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

[Material Design](https://m3.material.io/)

### ì„ íƒì  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •

```groovy
// ì„ íƒ ì‚¬í•­ - Materialì´ ìë™ìœ¼ë¡œ í¬í•¨ë˜ë¯€ë¡œ
// ì•„ì´ì½˜ë§Œ í•„ìš”í•˜ì§€ë§Œ Material3 ë˜ëŠ” Foundationì„ ê¸°ë°˜ìœ¼ë¡œ í•œ 
// ì‚¬ìš©ì ì •ì˜ ë””ìì¸ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ì¶”ê°€í•˜ì‹­ì‹œì˜¤.
implementation 'androidx.compose.material:material-icons-core'
// ì„ íƒ ì‚¬í•­ - ì „ì²´ Material ì•„ì´ì½˜ ì„¸íŠ¸ ì¶”ê°€
implementation 'androidx.compose.material:material-icons-extended'
// ì„ íƒ ì‚¬í•­ - ì°½ í¬ê¸° ìœ í‹¸ë¦¬í‹° ì¶”ê°€
implementation 'androidx.compose.material3:material3-window-size-class'
// ì„ íƒ ì‚¬í•­ - í™œë™ í†µí•©
implementation 'androidx.activity:activity-compose:{version}'
// ì„ íƒ ì‚¬í•­ - ë·°ëª¨ë¸ í†µí•©
implementation 'androidx.lifecycle:lifecycle-viewmodel-compose:{version}'
implementation 'androidx.lifecycle:lifecycle-runtime-ktx:{version}'
// ì„ íƒ ì‚¬í•­ - LiveData í†µí•©
implementation 'androidx.compose.runtime:runtime-livedata'
// ì„ íƒ ì‚¬í•­ - RxJava í†µí•©
implementation 'androidx.compose.runtime:runtime-rxjava2'
```

### ì½”ë“œë¡œ êµ¬í˜„í•œ UIí™•ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

```groovy
Â // UI Tests
Â androidTestImplementation 'androidx.compose.ui:ui-test-junit4'
Â debugImplementation 'androidx.compose.ui:ui-test-manifest'
```

## Retrofit ì„¤ì • ë° ì‚¬ìš© ê°€ì´ë“œ

### Retrofit ì„¤ì • êµ¬ì„±ìš”ì†Œ

- `data class` or `DTO` ( ë°ì´í„°ë¥¼ ê±´ë„¤ê±°ë‚˜ ë°›ì•„ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” ê°ì²´ )
- interface ( retrofit ê°ì²´ê°€ APIìš”ì²­ì„ ë³´ë‚¼ ë©”ì†Œë“œ )
    - GET, POST, PUT, DELETE ë“±ë“±
- Retrofit ê°ì²´ë¥¼ ìƒì„±í•  í´ë˜ìŠ¤

```kotlin
âš ï¸ ì£¼ì˜ì‚¬í•­
ì• ë®¬ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì»¬ í†µì‹ í…ŒìŠ¤íŠ¸ë¥¼ í•  ê²½ìš°
ë¡œì»¬IP ì£¼ì†Œë¥¼ ì´ìš©í•´ì„œ URLì„ ì„¤ì •í•´ì£¼ì…”ì•¼í•©ë‹ˆë‹¤.!!

CMD -> ipconfig -> IPv4ì£¼ì†Œ

âœ… URL => http://{IPì£¼ì†Œ}:port/
âŒ URL => http://localhost:port/
```

---

### Gson ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

Httpí†µì‹ ì„ í•  ë•Œ JSONí˜•ì‹ìœ¼ë¡œ ë³€í™˜ ë˜ëŠ” JSONê°ì²´ë¥¼ javaê°ì²´ë¡œ ë³€í™˜í•˜ëŠ”ë° ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ `Gson` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

Gsonì€ javaì˜ ê¸°ë³¸ì ì¸ ë°ì´í„° ê°ì²´ë¿ë§Œ ì•„ë‹ˆë¼ ì‚¬ìš©ìê°€ ì •ì˜í•œ ë°ì´í„° í´ë˜ìŠ¤ë¡œë„ ê°„í¸í•˜ê²Œ ë³€í™˜ì´ ê°€ëŠ¥

### GSON ì˜ì¡´ì„± ì¶”ê°€

```kotlin
implementation 'com.google.code.gson:gson:2.8.6'
```

### Retrofit ê´€ë ¨ ì˜ì¡´ì„± ì¶”ê°€

```kotlin
// Gson
implementation 'com.google.code.gson:gson:${gson_version}'
// Retrofit
implementation 'com.squareup.retrofit2:retrofit:${retrofit_version}'
implementation 'com.squareup.retrofit2:converter-gson:${version}'
// OkHttp
implementation 'com.squareup.okhttp3:okhttp:${version}'
implementation 'com.squareup.okhttp3:logging-interceptor:${version}'
```

ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.!!

### ê¶Œí•œ ì„¤ì • ( AndroidMainfestì— ì¸í„°ë„· ê´€ë ¨ ê¶Œí•œ )

```kotlin
<uses-permission android:name="android.permission.INTERNET"/>
```

HTTP í†µì‹ ì„ í•˜ë ¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì¸í„°ë„·ì„ ì´ìš©í•´ì•¼ í•˜ë¯€ë¡œ AndroidMainfestì— ì¸í„°ë„· ê´€ë ¨ ê¶Œí•œì„ ì¶”ê°€

### ê²°ê³¼ê°’ ë§µí•‘

ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ê°ì²´ì™€ ë§µí•‘í•˜ê¸° ìœ„í•´ì„œ @SerializedName ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©

```kotlin
data class SignUpResponseBody(
    @SerializedName("result")
    val result: String?,
    @SerializedName("status")
    val status: String?
)
```

### API ì¸í„°í˜ì´ìŠ¤ ì„¤ì •

```kotlin
interface ExampleService {

    @Headers("Content-Type: application/json")
    @POST("URI")
    fun addUserByEnqueue(
				@Body userInfo: SignUpRequestBody
		): Call<SignUpResponseBody> // Call ì€ íë¦„ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤Œ

}
```

@Header ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ Request Headerì— ë‹´ì•„ì¤„ ë°ì´í„°ë¥¼ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

@POST , @GET, @PUT, @DELETE : RestAPIë¥¼ ì„¤ì •í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

- ë§Œì•½ POSTë°©ì‹ìœ¼ë¡œ Bodyì— ë°ì´í„°ë¥¼ ì‚½ì…í•˜ë ¤ë©´ 
ë³€ìˆ˜ ì•ì— @Body ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì„¸ìš”.
- ê°ì²´ê°€ ì•„ë‹Œ ë‹¨ì¼ë¡œ ì„¤ì •í•´ì£¼ë ¤ë©´ @Field ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.
    
    ex) @Field(â€ë©¤ë²„ëª…â€) username : String?
    

Callì€ íë¦„ ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” retrofit2 íŒ¨í‚¤ì§€ ì•ˆì— ìˆëŠ” interface ( Call<T> )

### Retrofit ê°ì²´ë¥¼ êµ¬í˜„

```kotlin
Retrofit.Builder()
            .baseUrl(BASE_URL)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
```

ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” ë¡œê·¸ìº£ ì°½ì—ì„œ ëª¨ë‹ˆí„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. 
íŒ¨í‚· ë‚´ìš©ì„ ëª¨ë‹ˆí„°ë§ í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€ ë° ìˆ˜ì •í•´ì£¼ì„¸ìš”.

```kotlin
OkHttpClient.Builder()
            .addInterceptor(HttpLoggingInterceptor().apply {
                level = HttpLoggingInterceptor.Level.BODY
            })
            .build()
```

```kotlin
private val retrofit : Retrofit = Retrofit.Builder()
        .baseUrl(BASE_URL)
        .addConverterFactory(GsonConverterFactory.create())
        .client(okHttpClient)
        .build()
```

RestAPI ì„¤ì •ì„ í•´ì¤€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ì£¼ì‹œë©´ Retrofit ê°ì²´ë¥¼ ì‚¬ìš©í•  ì¤€ë¹„ëŠ” ëì´ ë‚©ë‹ˆë‹¤.

```kotlin
val memberApi = retrofit.create(MemberRepository::class.java)
```

ğŸš¨ Retrofitì˜ ê°ì²´ëŠ” ë¹„ìš©ì´ ë†’ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ìì›ë‚­ë¹„ ë° í†µì‹ ì— í˜¼ì„ ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ objectí‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì‹±ê¸€í†¤ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```kotlin
object AlarmonyServer {
		.. ìƒëµ ..
}
```

---

### ì„œë²„ì™€ APIí†µì‹ ì„ í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ êµ¬í˜„

CallÂ ì‘ì—…ì€ ë‘ ê°€ì§€ë¡œ ì‹¤í–‰ëœë‹¤.

- **execute**ë¥¼ ì‚¬ìš©í•˜ë©´ requestë¥¼ ë³´ë‚´ê³  responseë¥¼ ë°›ëŠ” í–‰ìœ„ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤. (ë™ê¸° ë°©ì‹)
- **enqueue**Â ì‘ì—…ì„ ì‹¤í–‰í•˜ë©´ requestëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë³´ë‚´ê³ , responseëŠ” ì½œë°±ìœ¼ë¡œ ë°›ê²Œ ëœë‹¤. (ë¹„ë™ê¸° ë°©ì‹)

ë™ê¸° ë°©ì‹ì˜ executeë¥¼ ì‚¬ìš©í•´ë³¸ ì ì€ ì—†ì§€ë§Œ ì°¾ì•„ë³´ë‹ˆ UnitTest ë“±ì„ ìˆ˜í–‰í•  ë•Œ ì“°ì´ëŠ” ê²½ìš°ê°€ ìˆë‹¤ê³  í•œë‹¤.

```kotlin
class RetrofitWork(private val userInfo: SignUpRequestBody) {
    fun work() {
        val service = RetrofitAPI.emgMedService

//        Call ì‘ì—…ì€ ë‘ ê°€ì§€ë¡œ ì‹¤í–‰ë¨
//        execute ë¥¼ ì‚¬ìš©í•˜ë©´ request ë¥¼ ë³´ë‚´ê³  response ë¥¼ ë°›ëŠ” í–‰ìœ„ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.
//        enqueue ì‘ì—…ì„ ì‹¤í–‰í•˜ë©´ request ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë³´ë‚´ê³ , response ëŠ” ì½œë°±ìœ¼ë¡œ ë°›ê²Œ ëœë‹¤.
        service.addUserByEnqueue(userInfo)
            .enqueue(object : retrofit2.Callback<SignUpResponseBody> {
                override fun onResponse(
                    call: Call<SignUpResponseBody>,
                    response: Response<SignUpResponseBody>
                ) {
                    if (response.isSuccessful) {
                        val result = response.body()
                        Log.d("íšŒì›ê°€ì… ì„±ê³µ", "$result")
                    }
                }

                override fun onFailure(call: Call<SignUpResponseBody>, t: Throwable) {
                    Log.d("íšŒì›ê°€ì… ì‹¤íŒ¨", t.message.toString())
                }
            })
    }
}
```

Callback ì¸í„°í˜ì´ìŠ¤ëŠ” í•„ìˆ˜ì ìœ¼ë¡œ 2ê°€ì§€ ë©”ì„œë“œë¥¼ ì˜¤ë²„ ë¼ì´ë”©í•´ì•¼ í•˜ëŠ”ë° ì´ëŠ” 2ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤.

- í†µì‹ ì— ì„±ê³µí–ˆì„ ê²½ìš°ëŠ”Â **onResponse**
- í†µì‹ ì— ì‹¤íŒ¨í–ˆì„ ê²½ìš°ëŠ”Â **onFailure**

ì‹¤íŒ¨í•œ ê²½ìš°ëŠ” ê·¸ì— ë”°ë¥¸ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ìˆ˜í–‰

## Retrofit ê³¼ Coroutine ì‚¬ìš©

### ê³µì‹ë¬¸ì„œ ì°¸ì¡°!!

[Kotlin ì½”ë£¨í‹´ìœ¼ë¡œ ì•± ì„±ëŠ¥ í–¥ìƒ Â |Â  Android ê°œë°œì Â |Â  Android Developers](https://developer.android.com/kotlin/coroutines-adv?hl=ko)

### **ì½”ë£¨í‹´ ì •ì˜**

### ì½”ë£¨í‹´ ì„¤ì •

```groovy
// Kotlin components
implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1"
implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.1"

// ì½”í‹€ë¦°ì„ ì“°ëŠ” ê²½ìš°
implementation 'androidx.work:work-runtime-ktx:2.7.1'
```

## Room Database ì„¤ì •

- Roomì€ ìŠ¤ë§ˆíŠ¸í° ë‚´ì¥ DBì—Â **ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬**
- ì•±ì—ì„œ Roomì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ build.gradleì— ì¢…ì† í•­ëª© ì¶”ê°€
    - annotationProcessorëŠ” ì½”í‹€ë¦°ì—ì„œ kapt ì»´íŒŒì¼ëŸ¬ í”ŒëŸ¬ê·¸ì¸ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë„ë¡ ë˜ì–´ìˆìœ¼ë¯€ë¡œ gradleì˜ ë§¨ ì• ë¶€ë¶„ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€

```kotlin
plugins {
    id 'kotlin-kapt'
}

dependencies {
  def room_version = "2.2.6"

  implementation "androidx.room:room-runtime:$room_version"
  kapt "androidx.room:room-compiler:$room_version"

  implementation "androidx.room:room-ktx:$room_version"
}
```

Roomì—ëŠ” 3ê°€ì§€ ì£¼ìš” êµ¬ì„± ìš”ì†Œ

- Database Class : ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³´ìœ í•¨
- Data Entites : ì•±ì˜ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” í…Œì´ë¸”ì„ ë‚˜íƒ€ëƒ„
- DAO(Data Access Object) : ì•±ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì¿¼ë¦¬, ì—…ë°ì´íŠ¸, ì‚½ì… ë° ì‚­ì œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ì œê³µ

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2026.png)

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2027.png)

# 1. Alarm (ì—”í„°í‹° í´ë˜ìŠ¤)

- @Entity ì–´ë…¸í…Œì´ì…˜ ì‘ì„±

```kotlin
@TypeConverters(DayConverters::class)
@Entity(tableName = "alarms")
class Alarm(
    @PrimaryKey
    val alarmId: Long,
    val title: String,
    val hour: Int,
    val minute: Int,
    val alarmDate: List<Boolean>,
    val soundName: String,
    val soundVolume: Int,
    val vibrate: Boolean,
    val host: Boolean,
    val content: String
) {
    companion object {
        fun toEntity(alarmDto: AlarmDto): Alarm {
            val alarm = Alarm(
                alarmDto.alarmId,
                alarmDto.title,
                alarmDto.hour,
                alarmDto.minute,
                alarmDto.alarmDate,
                alarmDto.soundName,
                alarmDto.soundVolume,
                alarmDto.vibrate,
                alarmDto.host,
                alarmDto.content
            )
            return alarm
        }
    }
}
```

# 2. AlarmDatabaseDao (ë°ì´í„° ì•¡ì„¸ìŠ¤ ê°œì²´)

- ì¸í„°í˜ì´ìŠ¤ë¡œ ì‘ì„±
- @Dao ì–´ë…¸í…Œì´ì…˜ ì‘ì„±
- Query ì–´ë…¸í…Œì´ì…˜ì€ ì‚¬ìš©ì ì§€ì • ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ë° ì‚¬ìš©
- í•¨ìˆ˜ë¥¼ suspendë¡œ í‘œì‹œí•˜ì—¬ ì½”ë£¨í‹´ ë‚´ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥

```kotlin
@Dao
interface AlarmDao {
    @Insert(onConflict = OnConflictStrategy.REPLACE) // ë§Œì•½ ë™ì¼í•œ PrimaryKey ê°€ ìˆì„ ê²½ìš° ë®ì–´ì“°ê¸°
    suspend fun insertAlarm(alarm: Alarm)

    @Query("SELECT * FROM alarms ORDER BY hour ASC, minute ASC")
    fun getAllAlarms(): LiveData<List<Alarm>>

    @Query("SELECT * FROM alarms")
    fun getAllAlarms2() : List<Alarm>

    @Query("SELECT * FROM alarms WHERE alarmId=:alarmId")
    fun getAlarmById(alarmId: Long): Alarm?

    @Update
    suspend fun updateAlarm(alarm: Alarm)

    @Delete
    suspend fun deleteAlarm(alarm: Alarm)

    @Query("DELETE FROM alarms")
    suspend fun deleteAllAlarms()
}
```

# 3 .AlarmDatabase(ë°ì´í„°ë² ì´ìŠ¤ í´ë˜ìŠ¤)

- RoomDatabaseë¥¼ í™•ì¥í•˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ì‘ì„±
- @Database ì–´ë…¸í…Œì´ì…˜ ì‘ì„±
    - ë™ê¸°í™”ëœ ë©”ì„œë“œë¥¼ ì…ë ¥í•˜ëŠ” ìŠ¤ë ˆë“œëŠ” ì ê¸ˆì„ ê°€ì ¸ì˜¤ë©°, ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œëŠ” ë©”ì„œë“œì— ë“¤ì–´ê°ˆ ìˆ˜ ì—†ìŒ
    - @**Synchronized ì–´ë…¸í…Œì´ì…˜ê³¼ ë™ì¼í•œ ê¸°ëŠ¥ ì œê³µ**

```kotlin
@Database(entities = [Alarm::class], version = 1, exportSchema = false)
abstract class AlarmDatabase : RoomDatabase() {
    abstract fun alarmDao(): AlarmDao

    companion object {
        @Volatile
        private var INSTANCE: AlarmDatabase? = null

        fun getInstance(context: Context): AlarmDatabase {
            return INSTANCE ?: synchronized(this) {
                val instance = Room.databaseBuilder(
                    context.applicationContext,
                    AlarmDatabase::class.java,
                    "alarm_database"
                )
                    .fallbackToDestructiveMigration()
                    .build()
                INSTANCE = instance

                return INSTANCE!!
            }
        }
    }
}
```

# 4. TodoRepository (ì €ì¥ì†Œ í´ë˜ìŠ¤)

- AlarmDatabaseDaoë¥¼ ìƒì„±ì ë§¤ê°œ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ë¦¬í¬ì§€í† ë¦¬ í´ë˜ìŠ¤ ì‘ì„±
- ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ìƒí˜¸ ì‘ìš©ì€ ì´ ì €ì¥ì†Œ ê³„ì¸µì„ í†µí•´ ìˆ˜í–‰

```kotlin
class AlarmRepository(private val alarmDao: AlarmDao) {
    val readAllData : LiveData<List<Alarm>> = alarmDao.getAllAlarms()

    fun findAlarm(alarmId : Long) : Alarm? {
        val alarm : Alarm? = alarmDao.getAlarmById(alarmId)
        return alarm
    }

    fun getAllAlarms() : List<Alarm>? {
        val alarms = alarmDao.getAllAlarms2()
        return alarms
    }

    suspend fun addAlarm(alarm: Alarm) {
        alarmDao.insertAlarm(alarm)
    }

    suspend fun updateAlarm(alarm: Alarm) {
        alarmDao.updateAlarm(alarm)
    }

    suspend fun deleteAlarm(alarm: Alarm) {
        alarmDao.deleteAlarm(alarm)
    }

    suspend fun deleteAllAlarms() {
        alarmDao.deleteAllAlarms()
    }
}
```

# Android ë° ì„œë²„ FCM ì„¤ì •

## ìˆœì„œ

1. Firebase ì„¤ì •
2. ì•ˆë“œë¡œì´ë“œ ì„¸íŒ…
3. ìë°” ì„¸íŒ…

### Firebase ì„¤ì •

### í”„ë¡œì íŠ¸ ìƒì„±

1. ì•„ë˜ ì‚¬ì´íŠ¸ì—ì„œ Firebase í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
    
    [](https://console.firebase.google.com/)
    
2. í”„ë¡œì íŠ¸ ìƒì„±
    
    ![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2028.png)
    
    ![ì•ˆë“œë¡œì´ë“œë¥¼ ì„ íƒí•œë‹¤](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2029.png)
    
    ì•ˆë“œë¡œì´ë“œë¥¼ ì„ íƒí•œë‹¤
    
    ![íŒ¨í‚¤ì§€ ì´ë¦„ê³¼, ì•± ë‹‰ë„¤ì„ì„ ì„¤ì •í•œë‹¤.](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2030.png)
    
    íŒ¨í‚¤ì§€ ì´ë¦„ê³¼, ì•± ë‹‰ë„¤ì„ì„ ì„¤ì •í•œë‹¤.
    

### ì•ˆë“œë¡œì´ë“œ í”„ë¡œì íŠ¸ì— ë„£ì„ ì„¸íŒ… íŒŒì¼

![google-service.json íŒŒì¼ì„ ë‹¤ìš´ë°›ê³ , ì•ˆë“œë¡œì´ë“œì— ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2031.png)

google-service.json íŒŒì¼ì„ ë‹¤ìš´ë°›ê³ , ì•ˆë“œë¡œì´ë“œì— ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.

![í•´ë‹¹ ìœ„ì¹˜ì— ë„£ê³ , ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•œë‹¤.](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2032.png)

í•´ë‹¹ ìœ„ì¹˜ì— ë„£ê³ , ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•œë‹¤.

### ì›¹ ì„œë²„ì— ë„£ì„ ì„¸íŒ… íŒŒì¼

![json íŒŒì¼ì„ ë°›ê³ , ì›¹ ì„œë²„ì— ì €ì¥í•œë‹¤.](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2033.png)

json íŒŒì¼ì„ ë°›ê³ , ì›¹ ì„œë²„ì— ì €ì¥í•œë‹¤.

![ì €ì¥ ê²½ë¡œì™€ íŒŒì¼ì´ë¦„ì€ ìƒê´€ì´ ì—†ìœ¼ë‚˜, ë‚˜ì¤‘ì— ì‰½ê²Œ ì°¾ì•„ì„œ ì“¸ ê²½ë¡œë¡œ ë‘ëŠ” í¸ì´ ì¢‹ë‹¤.](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2034.png)

ì €ì¥ ê²½ë¡œì™€ íŒŒì¼ì´ë¦„ì€ ìƒê´€ì´ ì—†ìœ¼ë‚˜, ë‚˜ì¤‘ì— ì‰½ê²Œ ì°¾ì•„ì„œ ì“¸ ê²½ë¡œë¡œ ë‘ëŠ” í¸ì´ ì¢‹ë‹¤.

## ì•ˆë“œë¡œì´ë“œ ì„¸íŒ…

### build.gradle (Project)

```
dependencies{
	classpath 'com.google.gms:google-services:4.3.15'
}
```

### build.gradle (Module)

```
dependencies{
	implementation 'com.google.firebase:firebase-messaging:21.1.0'
}
...
apply plugin: 'com.google.gms.google-services'
```

### AndroidManifest.xml

```xml
...
// Internet permission ì¶”ê°€
<uses-permission android:name="android.permission.INTERNET"/>

// serviceì¶”ê°€ ë° intentí•„í„° ì¶”ê°€
<application>
	<!--   ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  ì¸í…íŠ¸ í•„í„°ë¥¼ ì„¤ì •í•œë‹¤.   -->
  <service android:name=".MyFirebaseMessagingService"
      android:exported="true">
      <intent-filter>
          <action android:name="com.google.firebase.MESSAGING_EVENT"/>
      </intent-filter>
  </service>
...
</application>
```

### MyFirebaseMessagingService

```java
@Override
public void onNewToken(@NonNull String token) {
    super.onNewToken(token);
    //tokenì„ ì„œë²„ë¡œ ì „ì†¡
}

@Override
  public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {
      super.onMessageReceived(remoteMessage);
      //ìˆ˜ì‹ í•œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬
			//ì•Œë¦¼ ì²˜ë¦¬ ì˜ˆì‹œëŠ” ì•„ë˜ í† ê¸€ ì°¸ì¡°
}
```

- ì‹¤ì œ ì†ŒìŠ¤ì½”ë“œ
    
    ```java
    package com.fcmtests.alarmony;
    
    import android.annotation.SuppressLint;
    import android.app.Notification;
    import android.app.NotificationChannel;
    import android.app.NotificationManager;
    import android.app.Service;
    import android.os.Build;
    import android.util.Log;
    
    import androidx.annotation.NonNull;
    import androidx.core.app.NotificationCompat;
    import androidx.core.app.NotificationManagerCompat;
    
    import com.google.firebase.messaging.FirebaseMessagingService;
    import com.google.firebase.messaging.RemoteMessage;
    
    public class MyFirebaseMessagingService extends FirebaseMessagingService {
        private static final String CHANNEL_ID = "12345";
        private static final CharSequence CHANNEL_NAME = "FCMTest12345";
    
        //    @Override
    //    public void onNewToken(String token){
    //        Log.d("FCM Log", "Registration token: "+token);
    //    }
        @Override
        public void onNewToken(@NonNull String token) {
            super.onNewToken(token);
            //tokenì„ ì„œë²„ë¡œ ì „ì†¡
        }
    
        @SuppressLint("MissingPermission")
        @Override
        public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {
            super.onMessageReceived(remoteMessage);
            //ìˆ˜ì‹ í•œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬
            NotificationManagerCompat notificationManager = NotificationManagerCompat.from(getApplicationContext());
    
            NotificationCompat.Builder builder = null;
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
                if (notificationManager.getNotificationChannel(CHANNEL_ID) == null) {
                    NotificationChannel channel = new NotificationChannel(CHANNEL_ID, CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT);
                    notificationManager.createNotificationChannel(channel);
                }
                builder = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID);
            }else {
                builder = new NotificationCompat.Builder(getApplicationContext());
            }
    
            String title = remoteMessage.getNotification().getTitle();
            String body = remoteMessage.getNotification().getBody();
    
            builder.setContentTitle(title)
                    .setContentText(body)
                    .setSmallIcon(R.drawable.ic_launcher_background);
    
            Notification notification = builder.build();
            notificationManager.notify(1, notification);
        }
    }
    ```
    

## Java ì„¸íŒ…

### Build.gradle

```java
dependencies{
	...
	implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.2.2'
	implementation 'com.google.firebase:firebase-admin:9.1.1'
	...
}
```

### FCMService.java

- ì½”ë“œëŠ” ì˜ˆì‹œì´ë‹¤. ë²„ì „ê³¼ ìƒí™©ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•œë‹¤.

### getAccessToken

```java
public String getAccessToken() throws IOException {
        // firebaseë¡œ ë¶€í„° access tokenì„ ê°€ì ¸ì˜¨ë‹¤.

        GoogleCredentials googleCredentials = GoogleCredentials
                .fromStream(new ClassPathResource("fcm-config.json").getInputStream())
                .createScoped(Arrays.asList("https://www.googleapis.com/auth/cloud-platform"));

        googleCredentials.refreshIfExpired();

        return googleCredentials.getAccessToken().getTokenValue();

    }
```

### SendMessageTo

```java
public void sendMessageTo(String targetToken, String title, String body) throws IOException {
        String message = makeMessage(targetToken, title, body);
        log.info("Bearer " + targetToken);
        OkHttpClient client = new OkHttpClient();
        RequestBody requestBody = RequestBody.create(message,
                MediaType.get("application/json; charset=utf-8"));
        Request request = new Request.Builder()
                .url(urlInfo.getFcmApi())
                .post(requestBody)
                .addHeader(HttpHeaders.AUTHORIZATION, "Bearer " + getAccessToken())
                .addHeader(HttpHeaders.CONTENT_TYPE, "application/json; UTF-8")
                .build();

        log.info("Bearer " + getAccessToken());
        Response response = client.newCall(request).execute();

        System.out.println(response.body().string());
    }
```

### makeMessage

```java
public String makeMessage(String targetToken, String title, String body) throws JsonParseException, JsonProcessingException {
        FcmMessage fcmMessage = FcmMessage.builder()
                .message(FcmMessage.Message.builder()
                        .token(targetToken)
                        .notification(FcmMessage.Notification.builder()
                                .title(title)
                                .body(body)
                                .image(null)
                                .build()
                        ).build()).validateOnly(false).build();

        return objectMapper.writeValueAsString(fcmMessage);
    }
```

### FcmMessage

```java
package com.slembers.alarmony.alarm.dto;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Getter;

@Builder
@AllArgsConstructor
@Getter
public class FcmMessage {
    private boolean validateOnly;
    private Message message;

    @Builder
    @AllArgsConstructor
    @Getter
    public static class Message {
        private Notification notification;
        private String token;
    }

    @Builder
    @AllArgsConstructor
    @Getter
    public static class Notification {
        private String title;
        private String body;
        private String image;
    }
}
```

## Postman í…ŒìŠ¤íŠ¸ (íŠ¹ì • ê¸°ê¸° ì „ì†¡)

[ì•± ì„œë²„ ì „ì†¡ ìš”ì²­ ì‘ì„± Â |Â  Firebase í´ë¼ìš°ë“œ ë©”ì‹œì§•](https://firebase.google.com/docs/cloud-messaging/send-message?hl=ko#rest)

- ìœ„ ì‚¬ì´íŠ¸ë¥¼ ë³´ë©´

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2035.png)

- Httpìš”ì²­ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
- ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ì„œëŠ”, `ì„œë²„ í‚¤`ì™€ `íƒ€ê²Ÿ ê¸°ê¸°ì˜ í† í°`ì„ ì•Œì•„ì•¼ í•œë‹¤.

### ì„œë²„ í‚¤

- FCMServiceì˜  getAccessToken()ì„ logë¡œ ì¶œë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì•Œ ìˆ˜ ìˆë‹¤.

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2036.png)

- ya29ëŠ” êµ¬ê¸€ ë‚´ë¶€ ì¸ì¦ ë°©ì‹ì˜ í† í°ì´ë‹¤. jwtì²˜ëŸ¼ í•´ë…í•´ì„œ ë³¼ ìˆ˜ëŠ” ì—†ë‹¤.

### íƒ€ê²Ÿ ê¸°ê¸° í† í°

- MainActivityì— ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•˜ë©´, Logcat ì½˜ì†”ì—ì„œ í† í°ì„ ì•Œ ìˆ˜ ìˆë‹¤.

```java
FirebaseMessaging.getInstance().getToken()
    .addOnCompleteListener(new OnCompleteListener<String>() {
        @Override
        public void onComplete(@NonNull Task<String> task) {
            if (task.isSuccessful()) {
                // í† í° ê°’ ì¶”ì¶œ
                String token = task.getResult();
                System.out.println("Token : " + token);

            } else {
                System.out.println("wrong");
            }
        }
    });
```

### Postman

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2037.png)

### post ë§í¬

```java
https://fcm.googleapis.com/v1/projects/{project-id}/messages:send
```

- ì¸ë°, project-idëŠ” firebase consoleì—ì„œ ì•Œ ìˆ˜ ìˆë‹¤.

### í—¤ë”

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2038.png)

```java
"Content-type" : "application/json",
"Authorization" : "Bearer + {ì›¹ ì„œë²„ í† í°}
```

### Body-json

```json
{
    "message" : {
        "token" : "ê¸°ê¸°í† í°",
        "notification" : {
            "title" : "Alarmony" ,
            "body" : "ì´ˆëŒ€ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤"
    }
    } 

}
```

### ê²°ê³¼

![Untitled](%E1%84%91%E1%85%A9%E1%84%90%E1%85%B5%E1%86%BC%E1%84%86%E1%85%A6%E1%84%82%E1%85%B2%E1%84%8B%E1%85%A5%E1%86%AF%203345f6ddb76b449394d17cf63c6c3be8/Untitled%2039.png)